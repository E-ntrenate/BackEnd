<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Registro</title>

    <!-- Estilo de letra -->
    <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200;500;700;800&display=swap" rel="stylesheet"/>

    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
          integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
          referrerpolicy="no-referrer" rel="stylesheet"/>

    <th:block th:include="fragments.html :: headerfiles"></th:block>

    <!-- Template Main CSS File -->
    <link rel="stylesheet" th:href="@{~/assets/css/Login.css}">
    <link rel="stylesheet" th:href="@{~/assets/css/normalize.css}">
</head>

<body>

<!-- ======= Header ======= -->
<header th:insert="fragments.html :: header"></header>

<section class="d-flex align-items-center" id="hero">
    <div class="container position-relative" data-aos="fade-up" data-aos-delay="100">
        <div class="row">
            <div class="login-data">
                <div class=" abs-center p-4 align-items-center">
                    <div class="container border p-6 align-self-center" style="border-color: #1B5BAC;">
                        <form class="login-form" enctype="multipart/form-data" method="POST" th:action="@{/registro/{rol}(rol = ${rol})}"
                              th:object="${usuario}">
                            <legend class="border-bottom mb-2 text-center" style="color:#1B5BAC">Registrate</legend>

                            <div class="alert alert-error" th:if="${param.error}">
                                Los datos no son correctos.
                            </div>
                            <div class="alert alert-success" th:if="${param.success}">
                                Te has registrado exitosamente.
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="nombre">
                                            <input class="form-control" id="nombre" name="nombre" th:field="*{nombre}"
                                                   type="text"/>
                                            <span class="input-label">Nombre</span>
                                            <span class="input-label" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}">Error en el Nombre</span>
                                            <i class="fa-solid fa-user"></i>
                                        </label>
                                    </div>
                                </div>


                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="apellido">
                                            <input class="form-control" id="apellido" name="apellido"
                                                   th:field="*{apellido}"
                                                   type="text"/>
                                            <span class="input-label">Apellido</span>
                                            <i class="fa-solid fa-user"></i>
                                        </label>
                                    </div>
                                </div>


                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="nickname">
                                            <input class="form-control" id="nickname" name="nickname"
                                                   th:field="*{nickname}"
                                                   type="text"/>
                                            <span class="input-label">Usuario</span>
                                            <span class="input-label" th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}">Error en el nickname</span>
                                            <i class="fa-solid fa-user-secret"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="ciudad">
                                            <input class="form-control" id="ciudad" name="ciudad" th:field="*{ciudad}"
                                                   type="text"/>
                                            <span class="input-label">Ciudad</span>
                                            <span class="input-label" th:if="${#fields.hasErrors('ciudad')}" th:errors="*{ciudad}">Error en la ciudad</span>
                                            <i class="fa-solid fa-building"></i>
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="fechaNacimiento">
                                            <input class="form-control" id="fechaNacimiento" name="fechaNacimiento" type="date"/>
                                            <span class="input-label2">Fecha de Nacimiento</span>
                                            <i class="fa-regular fa-calendar-days"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill">
                                            <div class="select">
                                                <select aria-label="Default select example" class="form-select"
                                                        name="type_id" th:field="*{tipoIdentidad}">
                                                    <option th:value="'CC'" th:text="CC"></option>
                                                    <option th:value="'CE'" th:text="CE"></option>
                                                    <option th:value="'TI'" th:text="TI"></option>
                                                    <option th:value="'PP'" th:text="PP"></option>
                                                </select>
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-7 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="numeroIdentidad">
                                            <input class="form-control" id="numeroIdentidad" name="numeroIdentidad"
                                                   th:field="*{numeroIdentidad}" type="text"/>
                                            <span class="input-label">Número ID</span>
                                            <span class="input-label" th:if="${#fields.hasErrors('numeroIdentidad')}" th:errors="*{numeroIdentidad}">Error en el numeroIdentidad</span>
                                            <i class="fa-solid fa-id-card"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="contenedor-btn-file">
                                            <i class="fas fa-file"></i>
                                            Adjuntar ID
                                            <label for="btn-file"></label>
                                            <input accept="image/png, image/jpeg, image/svg" id="btn-file" name="archivo" type="file">
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="correo">
                                            <input class="form-control" id="correo" name="correo" th:field="*{correo}"
                                                   type="email"/>
                                            <span class="input-label">Correo Electrónico</span>
                                            <span class="input-label" th:if="${#fields.hasErrors('correo')}" th:errors="*{correo}">Error en el correo</span>
                                            <i class="fa-solid fa-envelope"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-1">
                                    <div class="input-group">
                                        <label class="input-fill" for="password">
                                            <input class="form-control" id="password" name="password"
                                                   th:field="*{password}"
                                                   type="password"/>
                                            <span class="input-label">Contraseña</span>
                                            <span class="input-label" th:if="${#fields.hasErrors('password')}" th:errors="*{nombre}">Error en el password</span>
                                            <i class="fas fa-lock"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="d-grid pt-0">
                                <input class="btn-login" type="submit" value="¡Inicia ahora!"/>
                                <a style="text-align:right" th:href="@{/login}">¿Ya tienes una cuenta? Inicia Sesión</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 pt-5 pt-lg-0 content">
                <!--Zona para mostrar la mitad izquierda de la página donde se encuentra la imagen-->
                <center><img alt="" class="img-fluid" th:src="@{~/assets/img/Login/RegisterPerson.png}" width="100%"/>
                </center>
            </div>

        </div>
    </div>

    <div>
        <th:block th:include="fragments.html :: jsfiles"></th:block>
        <!-- Vendor JS Files -->
        <script th:src="@{~/assets/vendor/purecounter/purecounter.js}"></script>

        <!-- Template Main JS File -->
        <script crossorigin="anonymous"
                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    </div>

    <label th:insert="fragments.html :: loadcode"></label>

</section>
</body>
</html>
